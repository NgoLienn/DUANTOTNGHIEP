<!DOCTYPE html>
<html lang="en">

<head th:replace="~{zlayout/fragmentsAdmin :: html_headAdmin}"></head>

<body class="g-sidenav-show bg-gray-100">
  <!-- loader khi vào -->
  <div id="loader-page" style=" 
    position: fixed;
    top: 0;
    left: 0;
    z-index: 99999;
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;">
    <span>
      <img src="/assets/images/loading.gif" alt="img/loading">
    </span>
  </div>
  <!-- end -->
  <div class="position-absolute w-100 min-height-300 top-0"
    style="background-image: url('/assets/images/buger.jpg'); background-position-y: 50%; background-size: cover; background-repeat: no-repeat;">
    <span class="mask bg-primary opacity-6"></span>
  </div>

  <aside class="" th:replace="~{zlayout/navbarAdmin :: menu-admin}"></aside>

  <main class="main-content position-relative border-radius-lg ">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur"
      data-scroll="false">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
            <li class="breadcrumb-item text-sm"><a class="opacity-5 text-white" href="javascript:;">Trang</a></li>
            <li class="breadcrumb-item text-sm text-white active" aria-current="page">Thống Kê - Doanh Thu</li>
          </ol>
          <h6 class="font-weight-bolder text-white mb-0">Thống Kê - Doanh Thu</h6>
        </nav>
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <div class="input-group">
              <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
              <input type="text" class="form-control" placeholder="Tìm Kiếm...">
            </div>
          </div>
          <ul class="navbar-nav  justify-content-end">
            <li class="nav-item d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white font-weight-bold px-0">
                <i class="fa fa-user me-sm-1"></i>
                <span class="d-sm-inline d-none fixed-plugin-button-nav">Tài Khoản</span>
              </a>
            </li>
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                </div>
              </a>
            </li>
            <li class="nav-item px-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0 font-weight-bold">
                <!-- <i class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i> -->
              </a>
            </li>
            <li class="nav-item dropdown pe-2 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0" id="dropdownMenuButton" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="fa fa-bell cursor-pointer"></i>
              </a>
              <ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4" aria-labelledby="dropdownMenuButton">
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="/assets/images/food-menu-1.png" class="avatar avatar-sm  me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">Thông báo mới</span> Từ Yummy
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          13 phút trước
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="/assets/images/food-menu-2.png" class="avatar avatar-sm me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">Thông báo mới</span> Từ Yummy
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          1 ngày trước
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="/assets/images/food-menu-4.png" class="avatar avatar-sm me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">Thông báo mới</span> Từ Yummy
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          3 ngày trước
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->
    <div class="card shadow-lg mx-4 card-profile-bottom">
      <div class="card-body p-3">
        <div class="row gx-4">
          <div class="col-auto">
            <div class="avatar avatar-xl position-relative">
              <img th:src="${profile.avata}" alt="profile_image"
                class="w-100 h-100 border-radius-lg shadow-sm" style="object-fit: cover; cursor: pointer;">
            </div>
          </div>
          <div class="col-auto my-auto">
            <div class="h-100">
              <h5 class="mb-1">
                Lê Chí Bằng
              </h5>
              <p class="mb-0 font-weight-bold text-sm">
                Admin
              </p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 my-sm-auto ms-sm-auto me-sm-0 mx-auto mt-3">
            <div class="nav-wrapper position-relative end-0">
              <ul class="nav nav-pills nav-fill p-1" role="tablist">
                <li class="nav-item">
                  <a class="nav-link mb-0 px-0 py-1 active d-flex align-items-center justify-content-center "
                    data-bs-toggle="tab" href="javascript:;" role="tab" aria-selected="true">
                    <i class="ni ni-app"></i>
                    <span class="ms-2">Menu</span>
                  </a>
                </li>
                <!-- <li class="nav-item">
                  <a class="nav-link mb-0 px-0 py-1 d-flex align-items-center justify-content-center "
                    data-bs-toggle="tab" href="javascript:;" role="tab" aria-selected="false">
                    <i class="ni ni-email-83"></i>
                    <span class="ms-2">Shop Yummy</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link mb-0 px-0 py-1 d-flex align-items-center justify-content-center "
                    data-bs-toggle="tab" href="javascript:;" role="tab" aria-selected="false">
                    <i class="ni ni-settings-gear-65"></i>
                    <span class="ms-2">Cài Đặt</span>
                  </a>
                </li> -->
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container-fluid py-4">
      <div class="row">
        <div class="col-md-8">
          <div class="card">
            <div class="card-header pb-0">
              <div class="d-flex align-items-center">
                <p class="mb-0">Chỉnh Sửa Tài Khoản</p>
              </div>
            </div>
            <form id="profileForm" method="post" action="admin/profile"
                  enctype="multipart/form-data" th:object="${account}">
            <div class="card-body">
              <p class="text-uppercase text-sm">Thông Tin Người Dùng</p>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Họ Và Tên</label>
                    <input name="Fullname" class="form-control" type="text" th:value="${profile.fullname}" placeholder="Name">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Email</label>
                    <input class="form-control" type="email" th:value="${profile.userName}" placeholder="Email Address">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Mật Khẩu</label>
                    <input class="form-control" type="password" th:value="${profile.password}" placeholder="Password">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Số Điện Thoại</label>
                    <input class="form-control" type="text" th:value="${profile.phone}" name="Phone" placeholder="Phone">
                  </div>
                </div>
              </div>
              <hr class="horizontal dark">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input"
                           class="form-control-label mb-3">Chọn
                      Avata</label>

                    <input type="hidden" name="filess"
                           th:value="${profile.avata}">
                    <input class="form-control" type="file"
                           th:value="${profile.avata}" id="uploadimage"
                           name="uploadimage"
                           onchange="previewImage(event)">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Phân Quyền</label>
                    <input class="form-control" type="text" disabled value="Admin">
                  </div>
                </div>
              </div>
              <hr class="py-2">
              <div class="d-flex align-items-center justify-content-center" style="display: flex; flex-wrap: wrap;">
                <button class="btn btn-primary btn-sm ms-4 px-5" style="font-size: 14px;">Cập
                  Nhật</button>
              </div>
            </div>
            </form>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-profile">
            <img src="/assets/images/juse.jpg" alt="Image placeholder" class="card-img-top">
            <div class="row justify-content-center">
              <div class="col-4 col-lg-4 order-lg-2">
                <div class="mt-n4 mt-lg-n6 mb-4 mb-lg-0">
                  <!-- <a href="javascript:;">
                    <img src="../assets/img/images/leaves.png" class="rounded-circle img-fluid border border-2 border-white">
                  </a> -->
                </div>
              </div>
            </div>
            <div class="card-header text-center border-0 pt-0 pt-lg-2 pb-4 pb-lg-3">
              <div class="d-flex justify-content-between">
                <a th:href="@{/}" class="btn btn-sm btn-info mb-0 d-none d-lg-block">Xem Shop</a>
                <a href="javascript:;" class="btn btn-sm btn-info mb-0 d-block d-lg-none"><i
                    class="ni ni-collection"></i></a>
                <a th:href="@{/admin/managerStatistics}"
                  class="btn btn-sm btn-dark float-right mb-0 d-none d-lg-block">Xem Doanh Thu</a>
                <a href="javascript:;" class="btn btn-sm btn-dark float-right mb-0 d-block d-lg-none"><i
                    class="ni ni-email-83"></i></a>
              </div>
            </div>
            <div class="card-body pt-0 py-0">
              <div class="row">
                <img src="/assets/img/small-logos/icon-sun-cloud.png" alt=""
                  style="filter: drop-shadow(10px 12px 10px rgb(178, 178, 178));">
              </div>
            </div>
          </div>
        </div>
        <footer class="footer pt-3">
          <div class="container-fluid">
            <div class="row align-items-center justify-content-lg-between">
              <div class="col-lg-6 mb-lg-0 mb-4">
                <div class="copyright text-center text-sm text-muted text-lg-start">
                  ©
                  <script>
                    document.write(new Date().getFullYear())
                  </script>,
                  Được Thiết Kế Bởi FastFoodTeam.
                </div>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
    
    <div class="" th:replace="~{zlayout/navbarAdmin :: menu-admin-right}"></div>

    <!--   Core JS Files   -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/core/popper.min.js"></script>
    <script src="/assets/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/core/bootstrap.min.js"></script>
    <script src="/assets/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="/assets/js/plugins/smooth-scrollbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      //bắt lỗi form
      document.getElementById("profileForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent the form from submitting by default

        var fullname = document.querySelector('input[name="Fullname"]').value;
        var phone = document.querySelector('input[name="Phone"]').value;

        if (fullname.trim() === '' || phone.trim() === '') {
          Swal.fire("Lỗi", "Vui lòng điền đầy đủ thông tin.", "error");
        } else if (!/^\d{10}$/.test(phone)) {
          Swal.fire("Lỗi", "Số điện thoại không hợp lệ. Vui lòng nhập 10 chữ số.", "error");
        } else {
          // If all fields are filled and phone number is in the correct format, submit the form
          this.submit();
        }
      });
      // loading khi refresh
      var loader = function () {
        setTimeout(function () {
          $('#loader-page').css({ 'opacity': 0, 'visibility': 'hidden' });
        }, 2000);
      };
      $(function () {
        loader();
      });
      // end

      var win = navigator.platform.indexOf('Win') > -1;
      if (win && document.querySelector('#sidenav-scrollbar')) {
        var options = {
          damping: '0.5'
        }
        Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
      }



    </script>
    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="/assets/js/argon-dashboard.min.js?v=2.0.4"></script>
</body>

</html>